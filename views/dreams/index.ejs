<body>
<h1>Dreams folder, Index.ejs</h1>

<!-- <%// dreams.forEach(dream => { %>
    <li>
        <a href="/dreams/<%=// dream._id %>"><%=// dream.dream[randomNumber] %></a>
    </li>
<% //}) %> -->
<% let publishedDreams = []; %>

<% dreams.forEach(dream => { %>
    <% if (dream.published == "on") { %>
        <% publishedDreams.push(dream) %>
    <% }}); %>


<% function dreamPicker() { %>
    <% let randomNumber = Math.floor(Math.random() * (publishedDreams.length)); %>
    <li>
        <a href="/dreams/<%= publishedDreams[randomNumber]._id %>">
            <%= publishedDreams[randomNumber].dream %></a>
    </li>
<% }; %>

<%= dreamPicker() %>
<%= dreamPicker() %>
<%= dreamPicker() %>
<%= dreamPicker() %>
<%= dreamPicker() %>
<%= dreamPicker() %>
<%= dreamPicker() %>
<%= dreamPicker() %>
<%= dreamPicker() %>
<%= dreamPicker() %>



<a href="/home">Home</a>
<a href="/dreamers/:id">My Profile</a>

</body>